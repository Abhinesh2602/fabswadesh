{% schema %}
{
  "name": "Custom Video",
  "settings": [
    {
      "type": "url",
      "id": "video_url",
      "label": "Video URL (YouTube or Vimeo)"
    }
  ],
  "presets": [
    {
      "name": "Custom Video"
    }
  ]
}
{% endschema %}

<div class="custom-video-section">
  {% if section.settings.video_url != blank %}
    <div class="video-wrapper">
      <iframe width="100%" height="480"
        src="{{ section.settings.video_url | replace: 'watch?v=', 'embed/' }}"
        frameborder="0" allowfullscreen>
      </iframe>
    </div>
  {% endif %}
</div>

<style>
.video-wrapper {
  position: relative;
  padding-bottom: 56.25%;
  height: 0;
  overflow: hidden;
}
.video-wrapper iframe {
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
}
</style>
